window.__require=function t(e,o,n){function i(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({AssetNeko:[function(t,e,o){"use strict";cc._RF.push(e,"c2a0aycXpZF67HeKt4IBOrH","AssetNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ItemMuitlNeko"),c=t("./SymbolNeko"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.listSkeData1=[],e.listSkeData2=[],e.itemSymbolNeko=null,e.itemEffNearWin=null,e.effectWinSymbol=[],e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemSymbolMutil=null,e.itemAddScater=null,e.itemShuffToWild=null,e.itemShuffToNormal=null,e.poolSymbol=new cc.NodePool(c.default),e.poolAddScater=new cc.NodePool(c.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolSymbolMutil=new cc.NodePool(s.default),e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolNeko)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){t.destroy()},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.putBkgShuffSymbol=function(t){t.destroy()},e.prototype.getWinSymbol=function(t){var e=null;return(e=this["poolWinSymbol"+t].size()>0?this["poolWinSymbol"+t].get():cc.instantiate(this.effectWinSymbol[t-1])).active=!0,e},e.prototype.putWinSymbol=function(t){t.destroy()},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){t.destroy()},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getSymbolMutil=function(){var t=null;return(t=this.poolSymbolMutil.size()>0?this.poolSymbolMutil.get():cc.instantiate(this.itemSymbolMutil)).getComponent(cc.ParticleSystem).stopSystem(),t.active=!0,t},e.prototype.putSymbolMutil=function(t){t.destroy()},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){t.destroy()},e.prototype.getShuffToWild=function(){var t=null;return(t=this.poolShuffToWild.size()>0?this.poolShuffToWild.get():cc.instantiate(this.itemShuffToWild)).active=!0,t},e.prototype.putShuffToWild=function(t){t.destroy()},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){t.destroy()},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolSymbolMutil.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([u(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([u([sp.SkeletonData])],e.prototype,"listSkeData1",void 0),r([u([sp.SkeletonData])],e.prototype,"listSkeData2",void 0),r([u(cc.Node)],e.prototype,"itemSymbolNeko",void 0),r([u(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([u([cc.Node])],e.prototype,"effectWinSymbol",void 0),r([u(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),r([u(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"itemXu",void 0),r([u(cc.Node)],e.prototype,"itemSymbolMutil",void 0),r([u(cc.Node)],e.prototype,"itemAddScater",void 0),r([u(cc.Node)],e.prototype,"itemShuffToWild",void 0),r([u(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ItemMuitlNeko":"ItemMuitlNeko","./SymbolNeko":"SymbolNeko"}],AudioNeko:[function(t,e,o){"use strict";cc._RF.push(e,"94dc6nejsBEiL1X3SDvynjz","AudioNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_end_coin=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.prizeInfobarTotalwin=null,e.spinActiveLoop=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizePayoutHighlight=null,e.prizePayoutHighlightStart=null,e.prizeSmallwin=null,e.prizeWinMultiplied=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinBtn=null,e.spinStop=null,e.symCollapse=null,e.symMultiFly=null,e.symMultiFlyB=null,e.symMultiReach=null,e.symMultiReachB=null,e.symMultiSpawn=null,e.symRouletteEnd=null,e.symRouletteRolling=null,e.symRouletteStart=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.takeSymTop=null,e.uiInfo=null,e.uiStart=null,e.wallet_counting_above=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end_coin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlightStart",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeWinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiFly",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiFlyB",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiReach",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiReachB",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiSpawn",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteRolling",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"takeSymTop",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([a],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0}],DetailHistoryNeko:[function(t,e,o){"use strict";cc._RF.push(e,"4bc1aZ4BYRFNpHJVnHewMbA","DetailHistoryNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=t("./ItemResultDetailNeko"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var o=t.get("date"),n=t.get("infolog"),i=JSON.parse(n);cc.log(n),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Quay mi\u1ec5n ph\xed":this.lbTitle.string="Quay th\u01b0\u1eddng",this.lbTime.string=s.Windown.formatDate(new Date(o),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);for(var r=i.bonusSpin;this.parentItem.childrenCount>0;){var a=this.parentItem.children[0];a.removeFromParent(),a.destroy()}i.views.forEach(function(t,o){var n=e.parentItem.children[o];null==n&&((n=cc.instantiate(e.itemTemplate)).parent=e.parentItem,n.active=!0),n.active=!0;var s=n.getComponent(c.default);i.listItemWin[o]&&(i.listItemWin[o].lsIdItem=JSON.parse(i.listItemWin[o].lsIdItem),i.listItemWin[o].lsstack=JSON.parse(i.listItemWin[o].lsstack),i.listItemWin[o].lsAgWin=JSON.parse(i.listItemWin[o].lsAgWin)),s.init(t,i.listItemWin[o],r[o],i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./ItemResultDetailNeko":"ItemResultDetailNeko"}],EffectNeko:[function(t,e,o){"use strict";cc._RF.push(e,"f5fdfFPSJJEL5gQOktwfGby","EffectNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Obs/LbMoneyChange"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,m=f.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.spineChangeView=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null,cc.find("BigWin/hoangQuang",this.node).runAction(cc.repeatForever(cc.rotateBy(1,45)))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var o=this;return new Promise(function(n){return s(o,void 0,void 0,function(){var o,i,r,s,p,f,y,m,S=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,7,,8]),this.scheduleOnce(function(){S.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,o=e<25?4:e<35?8:12,this.lb_Money.time=o,this.lb_Money.setMoney(t),this.nodeBigWin.getComponent(cc.Animation).play("ShowBig"),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_main,1),i=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:if(c.sent(),!(e>=30))return[3,3];for(r=cc.find("BigWin/parentXu",this.node),s=0;s<50;s++)(p=d.Windown.Neko.asset.getXu()).parent=r,p.zIndex=10,this.startXu(p,s%3);return d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowMega"),this.isClickBtnFast?[3,3]:(f=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime]);case 2:c.sent(),c.label=3;case 3:if(!(e>=50))return[3,5];for(r=cc.find("BigWin/parentXu",this.node),s=0;s<50;s++)(p=d.Windown.Neko.asset.getXu()).parent=r,p.zIndex=10,this.startXu(p,s%3);return d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowSuper"),this.isClickBtnFast?[3,5]:(f=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime]);case 4:c.sent(),c.label=5;case 5:return d.Windown.Neko.audio.stopEffect(d.Windown.Neko.audio.bgm_bigwin_main),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end),(y=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Neko),y.putInt("mt",d.Windown.Neko.dataFinish.get("agWin")),y.putUtfString("nn",d.Windown.User.nickName),y.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,y),this.lb_Money.setMoneyNoTime(t),[4,d.Windown.Neko.getMakeDelay(3).prosime];case 6:return c.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){S.nodeBigWin.active=!1,S.funNext=n,S.onClose()}))),[3,8];case 7:return m=c.sent(),h.Util.ThrowErrProsime(m),[3,8];case 8:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,a,u=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),d.Windown.Neko.stateSpin.freeSpinCache=t,d.Windown.Neko.stateSpin.activeAllSymbol(),d.Windown.Neko.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.Neko.itemSlotNekoNgang.getListSymbol().forEach(function(t){t.effectScaterShowFS()}),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.scatterWinHighlight),this.showChangeViewEffect(),[4,d.Windown.Neko.getMakeDelay(1.5).prosime];case 1:return c.sent(),[4,d.Windown.loadRes(l.default.Neko.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=c.sent(),(n=cc.instantiate(e)).parent=this.node,n.zIndex=1,d.Windown.Neko.audio.playBkgfs(),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.fsIntro),i=cc.find("NodeContent",n),cc.find("lbCount",i).getComponent(cc.Label).string=t,i.opacity=0,cc.find("Alats7-bl_vfx_a_screen_00",n).getComponent(cc.Animation).play("ShowTakeFs1"),(r=cc.find("Alats8-fs_vfx_c_add",n)).opacity=0,s=function(){i.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){i.destroy()}))),u.listNodeBoxMoney.forEach(function(t){t.y=-613}),o(null)},r.runAction(cc.sequence(cc.fadeIn(.4),cc.callFunc(function(){i.runAction(cc.fadeIn(.3)),d.Windown.Neko.switchBkgGame(!0),cc.find("Alats8-bl_vfx_d_screen",i).runAction(cc.scaleTo(3,4));var t=cc.find("Alats9-start_button",i).getComponent(cc.Button);t.node.opacity=0,t.node.runAction(cc.sequence(cc.fadeIn(1),cc.callFunc(function(){t.node.once("click",s)}),cc.delayTime(5),cc.callFunc(s)))}),cc.fadeOut(.5))),[3,4];case 3:return a=c.sent(),h.Util.ThrowErrProsime(a),[3,4];case 4:return[2]}})})})},e.prototype.showChangeViewEffect=function(){var t=this;this.spineChangeView.node.active=!0,this.spineChangeView.setAnimation(0,"BG",!1),this.spineChangeView.setCompleteListener(function(){t.spineChangeView.node.active=!1})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,f,y,m,S,g,v,w,b,N=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),t<1?(d.Windown.Neko.audio.stopBkgFs(),d.Windown.Neko.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-415}),o(null),[2]):(e=[],[4,d.Windown.loadRes(l.default.Neko.toString(),"Frefabs/EndFreeSpin",cc.Prefab)]);case 1:return n=c.sent(),this.listNodeBoxMoney.forEach(function(t){t.y=-415}),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_totalwin_main),d.Windown.Neko.switchBkgGame(!1),(i=cc.instantiate(n)).parent=this.node,i.zIndex=999,r=cc.find("ParentXu",i),(s=i.getComponentInChildren(p.default)).resetLb(),s.time=4.3,s.setMoney(t),cc.find("lbCount",i).getComponent(cc.Label).string=d.Windown.Neko.stateSpin.freeSpinCache+"",cc.find("Effect",i).getComponent(cc.Animation).play("TakeMutilIB"),(f=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Neko),f.putInt("mt",t),f.putUtfString("nn",d.Windown.User.nickName),f.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,f),(y=cc.find("collect",i)).active=!1,y.opacity=0,m=function(){N.showChangeViewEffect(),i.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){for(i.destroy();r.childrenCount>0;)d.Windown.Neko.asset.putXu(r.children[0]);o(null),d.Windown.Neko.audio.stopBkgFs()})))},this.scheduleOnce(function(){i.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),S=d.Windown.Neko.getMakeDelay(4.25),e.push(S),[4,S.prosime];case 2:for(c.sent(),s.setMoneyNoTime(t),s.node.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),y.active=!0,y.runAction(cc.fadeIn(.5)),y.once("click",m),g=0;g<100;g++)(v=d.Windown.Neko.asset.getXu()).parent=r,v.zIndex=10,this.startXu(v,g%3);return d.Windown.Neko.audio.stopEffect(d.Windown.Neko.audio.bgm_totalwin_main),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_totalwin_end),w=d.Windown.Neko.getMakeDelay(6),e.push(w),[4,w.prosime];case 3:return c.sent(),m(),[3,5];case 4:return b=c.sent(),h.Util.ThrowErrProsime(b),[3,5];case 5:return[2]}})})})},e.prototype.startXu=function(t,e){var o=this;t.opacity=0,t.stopAllActions(),t.scale=d.Windown.RandomNumber(30,80)/100;var n=cc.v2(0,0),i=(d.Windown.RandomNumber(600,1e3),d.Windown.RandomNumber(800,1300),this.pointsOnCircle({radius:1e3,angle:d.Windown.RandomNumber(0,360),cx:0,cy:0})),r=i[0],s=i[1],c=cc.v2(r,s),a=d.Windown.RandomNumber(1.5,2.5);e+=d.Windown.RandomNumber(0,10)/10,t.angle=d.Windown.RandomNumber(0,360),t.setPosition(n);var l=cc.moveTo(a,c);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Xu")}),l,cc.callFunc(function(){o.startXu(t,0)})))},e.prototype.pointsOnCircle=function(t){var e=t.radius,o=t.angle,n=t.cx,i=t.cy;return o*=Math.PI/180,[n+e*Math.sin(o),i+e*Math.cos(o)]},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose);for(var e=cc.find("BigWin/parentXu",this.node);e.childrenCount>0;)d.Windown.Neko.asset.putXu(e.children[0]);this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([m(cc.Node)],e.prototype,"nodeMask",void 0),r([m(p.default)],e.prototype,"lb_Money",void 0),r([m(cc.Node)],e.prototype,"nodeBigWin",void 0),r([m([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([m(cc.Button)],e.prototype,"btnFast",void 0),r([m(sp.Skeleton)],e.prototype,"spineChangeView",void 0),r([y],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],InfoBarControllerNeko:[function(t,e,o){"use strict";cc._RF.push(e,"b6da6FzsWlKZry/mV+px7vJ","InfoBarControllerNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.listMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.ani=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-5723.291,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent(),this.ani=this.getComponent(cc.Animation),cc.find("anhsang",this.node).active=!1},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.getComponent(cc.Animation).play("InfoBarOneMoreScater")},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(o){return s(e,void 0,void 0,function(){var e=this;return c(this,function(){try{cc.find("anhsang",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).active=!1,this.ani.play("StartTakeMoneyIb"),this.ani.once(cc.Animation.EventType.FINISHED,function(){e.ani.play("LoopLapLanhIB")}),this.parentMoney.active=!0,this.parentMoney.stopAllActions(),this.parentMoney.scale=0,this.parentMoney.runAction(cc.sequence(cc.scaleTo(.5,1).easing(cc.easeBackOut()),cc.callFunc(o))),this.parentContent.active=!1,this.parentOneMore.active=!1,this.lbMoney.setMoneyNoTime(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeSmallwin)}catch(n){l.Util.ThrowErrProsime(n)}return[2]})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i=this;return c(this,function(){try{cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,cc.find("LapLanhIb",this.node).getComponent(cc.Sprite).spriteFrame=null,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeWinMultiplied),this.lbMoney.setMoneyNoTime(t),e=u.Windown.Neko.curRoomBet*u.Windown.Neko.totalLineBet,(n=t/e)<5?(this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[0]})):n<15?(this.spInfoBar.spriteFrame=this.listInfoBar[1],this.spInfoBar.node.width=676,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[1]})):(this.spInfoBar.spriteFrame=this.listInfoBar[2],this.spInfoBar.node.width=676,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[2]})),o(null)}catch(r){l.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.reset=function(){var t=this;this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.spMaskInfoBar.forEach(function(e){e.spriteFrame=t.listMaskInfoBar[0]}),cc.find("anhsang",this.node).active=!1,cc.find("LapLanhIb",this.node).getComponent(cc.Sprite).spriteFrame=null,this.ani.stop()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,10,,11]),0==t?(o(null),[2]):(this.lbMoney.resetLb(),e=u.Windown.Neko.curRoomBet*u.Windown.Neko.totalLineBet,(n=t/e)<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.lbMoney.time=1,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(1).prosime]):[3,3]);case 1:return r.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwin),[4,u.Windown.Neko.getMakeDelay(1).prosime];case 2:return r.sent(),[3,9];case 3:return n<10?(u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedMain),u.Windown.Neko.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.spInfoBar.spriteFrame=this.listInfoBar[1],this.spInfoBar.node.width=676,this.lbMoney.time=2,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(2).prosime]):[3,6];case 4:return r.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.Neko.getMakeDelay(.3).prosime];case 5:return r.sent(),[3,9];case 6:return[4,u.Windown.Neko.effect.showBigWin(t,n)];case 7:return r.sent(),this.parentMoney.scale=0,u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[2],this.spInfoBar.node.width=676,this.lbMoney.time=2,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(1).prosime];case 8:r.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedEnd),r.label=9;case 9:return o(null),[3,11];case 10:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,11];case 11:return[2]}})})})},r([d(a.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listMaskInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],ItemDetalNeko:[function(t,e,o){"use strict";cc._RF.push(e,"7743085i4RNu5hc6neJLqdT","ItemDetalNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([a(cc.Label)],e.prototype,"label",void 0),r([a],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ItemLichSuNeko:[function(t,e,o){"use strict";cc._RF.push(e,"eccfbG4bbtKPYUDoGBJWyhN","ItemLichSuNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),o=this.data.get("bet"),n=this.data.get("agWin");this.lbTime.string=a.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(o*a.Windown.Neko.totalLineBet),this.lbWin.string=a.Windown.formatNumber(n)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=c.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietNeko,t,a.Windown.Neko.roomSFS),a.Windown.Neko.audio.playClick(),a.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ItemMuitlNeko:[function(t,e,o){"use strict";cc._RF.push(e,"37d85kVet1J9q93Y52ziZ08","ItemMuitlNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onOffEffectMutil=function(t){this.node.children[0].active=t,this.node.children[1].stopAllActions(),this.node.children[0].stopAllActions(),this.node.children[1].angle=0,this.node.children[1].scale=1,this.getComponent(cc.ParticleSystem).stopSystem(),t&&(this.node.children[0].runAction(cc.repeatForever(cc.rotateBy(1,50))),this.node.children[1].runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,-20),cc.rotateTo(1.5,0).easing(cc.easeElasticOut(.2))))))},e.prototype.moveToMultilLabel=function(t,e,o,n,i){var r=this;return new Promise(function(c){r.startRun();var a=cc.Vec2.lerp(cc.Vec2.ONE,r.node.getPosition(),e,.5);a.x>0?a.addSelf(cc.v2(100,100)):a.subSelf(cc.v2(100,100));var l=cc.bezierTo(.8,[a,a,e]).easing(cc.easeSineIn());r.node.active=!0,r.node.stopAllActions(),r.node.runAction(cc.sequence(cc.delayTime(.3+.2*t),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiFly)}),l,cc.callFunc(function(){o.call(n,c,i)}),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symRouletteEnd),s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiReach,2),r.getComponent(cc.ParticleSystem).stopSystem(),r.getComponent(cc.ParticleSystem).enabled=!1,s.Windown.Neko.asset.putSymbolMutil(r.node)})))})},e.prototype.startRun=function(){var t=this;this.getComponent(cc.ParticleSystem).enabled=!0,this.getComponent(cc.ParticleSystem).stopSystem(),s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiSpawn),this.node.children[1].stopAllActions(),this.node.children[1].runAction(cc.sequence(cc.scaleTo(.4,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.getComponent(cc.ParticleSystem).resetSystem()})))},r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemResultDetailNeko:[function(t,e,o){"use strict";cc._RF.push(e,"2fbffkE6NlBmJBRlomI6oKU","ItemResultDetailNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,30,30,50,0,0],[4,4,4,10,10,15,15,30,40,50,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,o,n){var i=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],c=0,a=e.lsIdItem.length;c<a;c++){var l=e.lsIdItem[c];e.lsAgWin[c],null==(k=this.parentItemWin.children[c])&&((k=cc.instantiate(r)).parent=this.parentItemWin),k.active=!0;var u=this.getArrSf(l+1,1,0);k.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],k.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(c=e.lsIdItem.length;c<this.parentItemWin.childrenCount;c++)this.parentItemWin.children[c].active=!1;this.lbX.node.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var o=p[e],n=null;t.forEach(function(t,e){var r=o.children[e],s=t.idItem,c=t.typeItem,a=t.size;null==r&&((r=cc.instantiate(h)).parent=o);var l=i.getArrSf(s+1,a,c);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*a,r.children[1].height=105*a,r.height=103*a;var u=n?n.y+n.height/2*.75:-230;r.y=u+r.height/2*.75,n=r})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(c=0,a=d.length;c<a;c++){for(var m="",S=0;S<f[c]+1;S++){for(var g=p[S],v=0,w=0,b=g.childrenCount;w<b;w++)if(t[S][w].idItem==d[c]||11==t[S][w].idItem){var N=g.children[w];N.children[0].color=cc.Color.WHITE,N.children[1].color=cc.Color.WHITE,N.children[2].color=cc.Color.WHITE,v++}m+=v+"x"}var k;m+=this.playTable[f[c]][d[c]]+"x"+s.Windown.formatNumber(n),m+="\nx"+o,(k=this.parentItemWin.children[c]).children[1].getComponent(cc.Label).string=m+"=\n"+s.Windown.formatNumber(y[c]*o)}}this.lbX.string="x"+o,this.lbX.node.active=1!=o},e.prototype.getArrSf=function(t,e,o){var n=t<12?s.Windown.Neko.asset.atlasSymbol:s.Windown.Neko.asset.atlasSpecial,i=t<12?cc.misc.clampf(e,1,2):e;return[n.getSpriteFrame("bkg_"+t+"_"+e),0==o?null:n.getSpriteFrame("khung_"+o+"_"+e),n.getSpriteFrame("item_"+t+"_"+i)]},r([l(cc.Label)],e.prototype,"lbX",void 0),r([l(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([l(cc.Node)],e.prototype,"parentItemResult",void 0),r([l(cc.Node)],e.prototype,"parentItemWin",void 0),r([l(cc.Color)],e.prototype,"colorOf",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemSlotNekoNgang:[function(t,e,o){"use strict";cc._RF.push(e,"913f8Kqu0FAzaCqD3ZIe5d8","ItemSlotNekoNgang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./ItemSlotNeko"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([a],e)}(s.default));o.default=l,cc._RF.pop()},{"./ItemSlotNeko":"ItemSlotNeko"}],ItemSlotNeko:[function(t,e,o){"use strict";cc._RF.push(e,"e0553Jaoe9HqY8V5v7BXtYe","ItemSlotNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.TYPE_MOVE=void 0;var a=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolNeko");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(o.TYPE_MOVE||(o.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.funReject=null,e.resolve=null,e.stateWhel=a.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.getListSymbol=function(){if(null!=this.parentItem){for(var t=[],e=0,o=this.parentItem.children;e<o.length;e++){var n=o[e].getComponent(h.default);n&&t.push(n)}return t}},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(o,n){t.push(e[n+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e);for(var o=this.parentItem.children,n=0,i=this.sizeSymbol;n<i;n++){var r=o[n];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(n);var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[n])}this.parentItem.sortAllChildren(),this.emitNewList(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var o=this.getRandomResult();t.push(o);for(var n=o.getInt("size");n<5;)n+(o=this.getRandomResult(p.Windown.RandomNumber(1,6-n))).getInt("size")<=5&&(n+=o.getInt("size"),t.push(o));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.activeNodeNearWin=function(){p.Windown.Neko.stateSpin.offAllSymbol(),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.Neko.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.Neko.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Neko.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("StartNearFS"),this.activeAllSymbol(),p.Windown.Neko.activeMask(!0),p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.fastspinStart)},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.fastspinEnd),this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.getComponent(cc.Animation).play("EndNearFS"),this.nodeEffNearWin.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.nodeEffNearWin.active=!1}))},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.emitNewList=function(){},e.prototype.checkAndRemoveItem=function(t,e){var o=!1,n=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1)),6==this.sizeSymbol&&n.reverse();for(var i=0;i<n.length;i++)n[i].result-1!=t&&12!=n[i].result||(0==n[i].typeItem?(n[i].removeItem(),this.result[i]=null):n[i].isShuff=!0,o=!0);o&&(this.parentItem.sortAllChildren(),this.emitNewList(),this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var o,n,i,r,s;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,8,,9]),this.getListSymbol(),6!=this.sizeSymbol?[3,2]:[4,p.Windown.Neko.getMakeDelay(.07).prosime];case 1:c.sent(),c.label=2;case 2:return[4,p.Windown.Neko.getMakeDelay(.07*this.index).prosime];case 3:c.sent(),o=this.getListSymbol().slice(1,this.result.length+1),6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),n=0,i=o,c.label=4;case 4:return n<i.length?(r=i[n]).result-1!=t&&12!=r.result?[3,6]:(r.takeItem(),6!=this.sizeSymbol?[3,6]:[4,p.Windown.Neko.getMakeDelay(.07).prosime]):[3,7];case 5:c.sent(),c.label=6;case 6:return n++,[3,4];case 7:return[3,9];case 8:return s=c.sent(),u.Util.ThrowErrProsime(s),[3,9];case 9:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,a,l,d,f,y,m;return c(this,function(c){switch(c.label){case 0:for(c.trys.push([0,4,,5]),p.Windown.Neko.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),n=this.result.length-e.length,e.length=this.result.length,e.reverse(),i=this.getListSymbol(),r=i[0],s=0;s<n;s++)a=p.Windown.Neko.asset.getSymbol(),this.parentItem.addChild(a,0),a.setSiblingIndex(0),y=a.getComponent(h.default),6==this.sizeSymbol?y.isVectical=!1:y.isVectical=!0,y.setItemColum(this);for(this.parentItem.sortAllChildren(),this.emitNewList(),l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var o=l[e+1];t.getInt("typeItem")!=o.typeItem&&o.isShuff?d.push(o.actionRandomNewResultNextKhung(t.getInt("idItem"))):o.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(y=l[f]).node.y=r.node.y+r.node.height/2+y.node.height/2,r=y,f--;return[4,Promise.all(d)];case 1:return c.sent(),d.length<1?[4,p.Windown.Neko.getMakeDelay(.9).prosime]:[3,3];case 2:c.sent(),c.label=3;case 3:return o(null),[3,5];case 4:return m=c.sent(),u.Util.ThrowErrProsime(m),[3,5];case 5:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.Neko.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,a,l,h,d,f,y,m,S,g,v,w,b,N;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,10,,11]),e=p.Windown.Neko.stateSpin.curentCountScater>2&&!p.Windown.Neko.stateSpin.isMaxSpeed,n=e||p.Windown.Neko.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),[4,p.Windown.Neko.getMakeDelay(.2+n).prosime];case 1:if(c.sent(),(i=this.getListSymbol()).forEach(function(t){t.activeItem()}),(r=i.filter(function(t){return t.checkIsInView()})).reverse(),s=r[r.length-1],r.length>0)for(a=r[0],l=-a.size.height*(this.sizeSymbol-2)+a.node.height/2,h=function(t,e){var o=r[t],n=o.node;if(Math.abs(l-n.y)>2){var i=cc.moveTo(.25,n.x,l).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){o.effectSpawnSymbol()}));n.runAction(cc.sequence(i,cc.callFunc(function(){p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.symCollapse,.6)}),s))}else o.isShuff&&o.effectSpawnSymbol();t<e-1&&(l=l+n.height/2+r[t+1].node.height/2)},d=0,f=r.length;d<f;d++)h(d,f);return y=0,r.forEach(function(t){y+=t.sizeItem}),m=this.sizeSymbol-2-y,e?[4,p.Windown.Neko.getMakeDelay(.4).prosime]:[3,8];case 2:return c.sent(),p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.heartbeatNoise),p.Windown.Neko.stateSpin.offAllSymbol(!1),r.forEach(function(t){t.effectNearWinScater()}),m>0?((S=p.Windown.Neko.asset.getNearWinNoSap()).parent=this.parentItem,S.height=s?m*s.size.height:m*i[0].size.height,g=-S.height/2,S.setPosition(cc.v2(0,g)),[4,p.Windown.Neko.getMakeDelay(4.5).prosime]):[3,5];case 3:return c.sent(),p.Windown.Neko.stateSpin.activeAllSymbol(),S.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){S.opacity=255,p.Windown.Neko.asset.putNearWinNoSap(S)}))),[4,p.Windown.Neko.getMakeDelay(.3+.5*t).prosime];case 4:return c.sent(),[3,7];case 5:return[4,p.Windown.Neko.getMakeDelay(3.5).prosime];case 6:c.sent(),c.label=7;case 7:r.forEach(function(t){t.removeAddScater()}),c.label=8;case 8:return e&&m>0&&!p.Windown.Neko.stateSpin.isMaxSpeed&&p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.heartbeatSlowdrop),v=[],w=i,b=i[0].node.height/2,w.forEach(function(t,e){var o=i[e],n=o.node;!r.includes(o)&&Math.abs(b-n.y)>1&&v.push(new Promise(function(t){var o=cc.moveTo(.25,n.x,b).easing(cc.easeSineIn()),r=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),i[e].effectSpawnSymbol()}));n.runAction(cc.sequence(o,cc.callFunc(function(){p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.symCollapse,.6)}),r))})),e<w.length-1&&(b=b-n.height/2-i[e+1].node.height/2)}),[4,Promise.all(v)];case 9:return c.sent(),this.reSetResultColum(),o(null),[3,11];case 10:return N=c.sent(),u.Util.ThrowErrProsime(N),[3,11];case 11:return[2]}})})})},e.prototype.offAllSymbol=function(t){this.getListSymbol().forEach(function(e){(t||13!=e.result)&&e.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=a.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var o=this;return new Promise(function(n,i){return s(o,void 0,void 0,function(){var o;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=n,t?[3,2]:[4,p.Windown.Neko.getMakeDelay(.07).prosime];case 1:r.sent(),n(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,p.Windown.Neko.getMakeDelay(1.5).prosime]):[3,4];case 3:return r.sent(),this.stateWhel=a.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=a.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return o=r.sent(),u.Util.ThrowErrProsime(o),[3,7];case 7:return[2]}})})})},e.prototype.recaculateSpeedSpin=function(t){this.emitNewList();var e=this.getListSymbol(),o=e[0].node.y,n=-this.node.height-e[0].node.height/2,i=Math.abs(n-o),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.forceStopSpin=function(){},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.Neko.asset.putSymbol(t[t.length-1].node),t=this.getListSymbol();else if(t.length<this.sizeSymbol){for(var e=t.length;e<this.sizeSymbol;e++){var o=this.getSymbol();this.parentItem.addChild(o);var n=o.getComponent(h.default);6==this.sizeSymbol?n.isVectical=!1:n.isVectical=!0,n.setItemColum(this)}t=this.getListSymbol()}this.result.forEach(function(e,o){t[o+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){try{if(this.stateWhel==a.default.SHOW_EFFECT)return[2];this.stateWhel=a.default.SHOW_EFFECT,this.parentItem.sortAllChildren(),this.parentItem.stopAllActions(),this.emitNewList(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.spinStop),this.index>=1&&this.index<=4?p.Windown.Neko.updateNewTotalLine(this.result.length+1):p.Windown.Neko.updateNewTotalLine(this.result.length)),this.isMoveSlowDown=!1,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-8).easing(cc.easeSineOut()),cc.moveBy(.04,0,8).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==a.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){0!=this.index&&5!=this.index||(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("size",t),t>1?e.putInt("idItem",p.Windown.RandomNumber(0,12)):e.putInt("idItem",p.Windown.RandomNumber(0,13))):(e.putInt("idItem",p.Windown.RandomNumber(0,13)),e.getInt("idItem")<12?(p.Windown.RandomNumber(0,100),e.putInt("size",p.Windown.RandomNumber(1,5))):e.putInt("size",1)),1==e.getInt("size")||11==e.getInt("idItem")?e.putInt("typeItem",0):e.putInt("typeItem",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(o){o.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=a.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./SymbolNeko":"SymbolNeko"}],LichSuNeko:[function(t,e,o){"use strict";cc._RF.push(e,"e98b2OnyZlJu5cE9Fe+HpTm","LichSuNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryNeko"),p=t("./ItemLichSuNeko"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryNeko,null,l.Windown.Neko.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),o=Math.floor(e/this.maxRow);e%this.maxRow>0&&o++,0==o&&(o=1),this.pageDate.setTotalPage(o),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,o=e.children,n=o[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var c=o[r];if(i<this.listData.size()){null==c&&(c=cc.instantiate(n),e.addChild(c),c.y=-(r+1)*c.height+c.height/2);var a=this.listData.getSFSObject(i);c.getComponent(p.default).initItem(a),c.active=!0,i++}else{if(!c)break;c.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,o=t.length;e<o;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.Neko.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(a.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./DetailHistoryNeko":"DetailHistoryNeko","./ItemLichSuNeko":"ItemLichSuNeko"}],MutilControlNeko:[function(t,e,o){"use strict";cc._RF.push(e,"85c6aRtCuBMGLLrllj6syLw","MutilControlNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./ItemMuitlNeko"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMultil=null,e.nodeMultilFade=null,e.itemBkgTake=null,e.curentMutil=0,e.resolve=null,e}return i(e,t),e.prototype.start=function(){this.nodeMultilFade.opacity=0},e.prototype.take=function(t,e){var o=1.4,n=1.2,i=120;e&&(o=.9,n=.8,i=-286),this.curentMutil+=2,this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.fadeIn(.1)),this.nodeMultil.runAction(cc.sequence(cc.scaleTo(.1,o).easing(cc.easeSineOut()),cc.scaleTo(.2,n).easing(cc.easeSineIn()),cc.callFunc(function(){t&&t(null)})));var r=cc.instantiate(this.itemBkgTake);r.active=!0,r.y=i,this.node.addChild(r,cc.macro.MIN_ZINDEX),this.node.sortAllChildren();var s=r.children[0],c=r.children[1];s.runAction(cc.fadeIn(.2)),s.runAction(cc.sequence(cc.scaleTo(.1,o).easing(cc.easeSineOut()),cc.scaleTo(.2,n).easing(cc.easeSineIn()),cc.fadeOut(.1))),c.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,4*o),cc.sequence(cc.delayTime(.2),cc.fadeOut(.2))),cc.callFunc(function(){r.destroy()}))),this.nodeMultil.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString()},e.prototype.getListMeoMutil=function(){var t=[];return l.Windown.Neko.itemSlotNekoNgang.getListSymbol().forEach(function(e){e.nodeMutil&&e.nodeMutil.parent&&t.push(e.nodeMutil)}),l.Windown.Neko.listColum.forEach(function(e){e.getListSymbol().forEach(function(e){e.nodeMutil&&e.nodeMutil.parent&&t.push(e.nodeMutil)})}),t},e.prototype.checkTakeMultil=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,p;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),this.resolve=o,(e=this.getListMeoMutil()).length<1?(o(null),[2]):t?[3,4]:[3,1];case 1:return this.curentMutil>0?(this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.spawn(cc.moveTo(.5,0,170),cc.scaleTo(.5,1.2))),[4,l.Windown.Neko.getMakeDelay(.5).prosime]):[3,3];case 2:return c.sent(),[3,4];case 3:0==this.curentMutil&&(this.nodeMultil.setPosition(0,170),this.nodeMultil.opacity=0),c.label=4;case 4:for(n=[],i=0,r=e.length;i<r;i++)s=e[i],i==r-1?n.push(s.getComponent(u.default).moveToMultilLabel(i,this.nodeMultil.getPosition(),this.take,this,t)):s.getComponent(u.default).moveToMultilLabel(i,this.nodeMultil.getPosition(),this.take,this,t);return[4,Promise.race(n)];case 5:return c.sent(),o(null),[3,7];case 6:return p=c.sent(),a.Util.ThrowErrProsime(p),[3,7];case 7:return[2]}})})})},e.prototype.startFreeSpin=function(){this.curentMutil=2,this.nodeMultil.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultil.opacity=255},e.prototype.endTakeMultil=function(){var t=this;return new Promise(function(e){t.curentMutil>0?(t.nodeMultil.stopAllActions(),t.nodeMultil.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.8).easing(cc.easeQuinticActionIn()),cc.moveTo(.3,0,-138).easing(cc.easeQuinticActionIn())),cc.callFunc(function(){t.getComponent(cc.Animation).play("TakeMutilIB"),t.nodeMultilFade.opacity=0,t.nodeMultilFade.scale=.8,t.nodeMultilFade.stopAllActions(),t.nodeMultilFade.runAction(cc.spawn(cc.fadeTo(.1,120),cc.scaleTo(.5,2).easing(cc.easeQuinticActionOut()),cc.sequence(cc.delayTime(.4),cc.fadeOut(.1).easing(cc.easeQuinticActionOut())))),e(null),t.resolve=null}),cc.moveTo(.3,0,-280).easing(cc.easeQuinticActionOut())))):e(null)})},e.prototype.resetForNextSpin=function(){l.Windown.Neko.stateSpin.freeSpinLeft<1&&(this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.fadeOut(.3)),this.curentMutil=0)},r([d(cc.Node)],e.prototype,"nodeMultil",void 0),r([d(cc.Node)],e.prototype,"nodeMultilFade",void 0),r([d(cc.Node)],e.prototype,"itemBkgTake",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./ItemMuitlNeko":"ItemMuitlNeko"}],NekoView:[function(t,e,o){"use strict";cc._RF.push(e,"c975d9n7ddPl6yKHMEl/zaH","NekoView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),m=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),g=t("../../../Scritps/Windown"),v=t("./AssetNeko"),w=t("./AudioNeko"),b=t("./EffectNeko"),N=t("./InfoBarControllerNeko"),k=t("./ItemSlotNeko"),I=t("./ItemSlotNekoNgang"),_=t("./LichSuNeko"),W=t("./MutilControlNeko"),C=t("./SpinNormalNeko"),M=cc._decorator,A=M.ccclass,E=M.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.itemSlotNekoNgang=null,e.parentItem=null,e.parentEffect=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.cachChoi=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleMusic=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e}return i(e,t),e.prototype.onLoad=function(){g.Windown.Neko=this,this.makeDelay=new m.default(this),cc.log("start dieu thuyen"),this.gameType=d.default.Neko,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.stateReel=p.default.WAITING,this.stateSpin=new C.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=f.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),o=new SFS2X.RoomExtension("NekoExtension","ext.Room.SlotNeko.SlotGameView");e.extension=o,e.isGame=!0,e.maxUsers=1,e.groupId="Neko",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(n){cc.error(n),this.onDisconnect()}},e.prototype.onDisconnect=function(){cc.log("disconnect"),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"Neko"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){g.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),g.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("Neko"==e.groupId){this.roomSFS=e,g.Windown.UIManager.hideLoadingData();var o=e.getVariable("cf").value;cc.log(o);var n=[],i=JSON.parse(o);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,n.push(s)}n.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=n,cc.log("ListBet=",n),this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=g.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node);if(e.active=!1,g.Windown.Neko.lb_FSLeft.node.parent.active=!1,t){e.active=!0;var o=cc.find("Alats8-fs_vfx_c_add",e);o.stopAllActions(),this.muitlCtr.startFreeSpin(),o.runAction(cc.repeatForever(cc.rotateBy(1,30))),g.Windown.Neko.lb_FSLeft.node.parent.active=!0}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),g.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,o=t.params;switch(e){case u.REQUEST_CODE.SpinNeko:cc.log(g.Windown.SFSObjToJson(o)),this.handleFinish(o);break;case u.REQUEST_CODE.HistoryNeko:this.popupLichSu.responseServer(o);break;case u.REQUEST_CODE.HistoryChiTietNeko:this.popupLichSu.responseServerChiTiet(o)}},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),g.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,g.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.dataFinish.getLong("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var o=t.getIntArray("bonusSpin");this.listResultConvert=this.convertResult(this.listResult,JSON.parse(g.Windown.SFSArrToJson(t.get("listItemWin"))),o);var n=this.stateSpin.isMaxSpeed?10:.5;this.scheduleOnce(function(){e.stateReel=p.default.CAN_STOP;var t=e.stateSpin.isMaxSpeed?.2:.5;e.scheduleOnce(e.funEnd=function(){e.stateSpin.onEnd()},t)},.4/n)},e.prototype.onDestroy=function(){g.Windown.Neko=null,this.dataFinish&&(g.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),g.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),g.Windown.UIManager.changeRotation(),this.makeDelay.clear()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),g.Windown.AudioManager.isActiveSound&&g.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,g.Windown.loadBundle(d.default.Neko.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,o=0;o<6;o++){var n=this.parentItem.children[o];null==n&&((n=cc.instantiate(t)).parent=this.parentItem);var i=n.getComponent(k.default);this.listColum.push(i),i.index=o,i.setResultFirtGame(),i.node.x=e*o+e/2-6*e/2,i.node.y=0}this.itemSlotNekoNgang.index=0,this.itemSlotNekoNgang.setResultFirtGame()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var o=this.bkgSprite.addComponent(cc.Widget);o.left=0,o.right=0,o.bottom=0,o.top=0}g.Windown.UIManager.changeRotation(!0)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinNeko,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.sendClickSpin(),[3,3];case 2:this.stateReel==p.default.CAN_STOP||this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),S.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string=". . ."},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),o=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var n=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,n)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)o.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.play("BtnSpin"),o.active=!0,o.stopAllActions(),o.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),o.active=!1;var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),g.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":3,"typeItem":1,"idItem":0},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":4},{"size":3,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":8},{"size":3,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,g.Windown.Neko.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){g.Windown.Neko.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,o=Number(e);this.stateSpin.countAutoSpin=o,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),g.Windown.Neko.stateSpin.countAutoSpin>0&&g.Windown.Neko.setCountAuto(g.Windown.Neko.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){g.Windown.Neko.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;g.Windown.Neko.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,o){var n=this,i=[];return g.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[],s.listSFSObjNgang=[],s.mutil=cc.misc.clampf(o[r],1,9999999),s.agWin=0,g.Windown.foreachSFSArray(t,function(o,n){var i=[];if(g.Windown.foreachSFSArray(o,function(t,e){e==o.size()-1&&n>0&&n<5?s.listSFSObjNgang.push(t):i.push(t)}),i.reverse(),s.listSFSObj.push(i),n==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=n.getCountScater(s.listSFSObj,s.listSFSObjNgang),s.listSFSObjNgang.reverse(),i.push(s)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t,e){var o=[],n=0;e.forEach(function(t){12==t.getInt("idItem")&&n++});for(var i=0;i<t.length;i++)n>2?o.push(!0):o.push(!1),t[i].forEach(function(t){12==t.getInt("idItem")&&n++});return o},e.prototype.onClickChangeBet=function(t,e){if(g.Windown.Neko.audio.playClick(),this.listConfigBet.length<1)g.Windown.Dialog.showLog(h.TextDefine.Error);else{var o=-1;for(var n in this.listConfigBet)if(this.listConfigBet[n].bet==this.curRoomBet){o=parseInt(n);break}0==e?o--:o++,o<0&&(o=this.listConfigBet.length-1),o>this.listConfigBet.length-1&&(o=0),this.curRoomBet=this.listConfigBet[o].bet,this.lb_totalBet.string=g.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){g.Windown.Neko.audio.playClick(),this.cachChoi.active=!0,this.cachChoi.opacity=0,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.fadeIn(.3))},e.prototype.onCloseCachChoi=function(){var t=this;g.Windown.Neko.audio.playClick(),this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.onClickBackToLobby=function(){g.Windown.Neko.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickMusic=function(){g.Windown.Neko.audio.playClick();var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,g.Windown.AudioManager?(g.Windown.AudioManager.isActiveSound=t,g.Windown.AudioManager.isActiveMusic=t):t?(g.Windown.setLocalStorage("sound","on"),g.Windown.setLocalStorage("music","on")):(g.Windown.setLocalStorage("sound","off"),g.Windown.setLocalStorage("music","off"))},e.prototype.onClickTurbo=function(){g.Windown.Neko.audio.playClick();var t=this.toggleTurbo.isChecked;this.stateSpin.isMaxSpeed=t,t?(g.Windown.UIManager.showAlertMini("\u0110\xe3 B\u1eacT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!1,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!0):(g.Windown.UIManager.showAlertMini("\u0110\xe3 T\u1eaeT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!0,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!1)},e.prototype.onClickSeting=function(){if(g.Windown.Neko.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t,e){var o=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("idItem")&&o++})}),e.forEach(function(t){12==t.getInt("idItem")&&o++}),o},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(e,o){e.color=cc.Color.fromHEX(new cc.Color,"#FFD500"),"BtnFast"==t.node.name&&(1==o?e.children[0].color=cc.Color.fromHEX(new cc.Color,"#756200"):2==o&&(e.children[0].color=cc.Color.fromHEX(new cc.Color,"#FFD500")))})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(e,o){e.color=cc.Color.fromHEX(new cc.Color,"#999999"),"BtnFast"!=t.node.name||1!=o&&2!=o||(e.children[0].color=cc.Color.fromHEX(new cc.Color,"#999999"))})})},e.prototype.truTienBet=function(t,e){0!=t&&g.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){g.Windown.Neko.audio.playClick(),this.popupLichSu.show()},e.prototype.update=function(){},r([E(v.default)],e.prototype,"asset",void 0),r([E(cc.Node)],e.prototype,"bkgSprite",void 0),r([E(I.default)],e.prototype,"itemSlotNekoNgang",void 0),r([E(cc.Node)],e.prototype,"parentItem",void 0),r([E(cc.Node)],e.prototype,"parentEffect",void 0),r([E(cc.Node)],e.prototype,"nodeLine",void 0),r([E(b.default)],e.prototype,"effect",void 0),r([E(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([E(cc.Label)],e.prototype,"lb_totalBet",void 0),r([E(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([E(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([E(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([E(N.default)],e.prototype,"infoBar",void 0),r([E(W.default)],e.prototype,"muitlCtr",void 0),r([E(cc.Node)],e.prototype,"btnSpin",void 0),r([E(cc.Node)],e.prototype,"mask",void 0),r([E(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([E(_.default)],e.prototype,"popupLichSu",void 0),r([E(w.default)],e.prototype,"audio",void 0),r([E([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([E(cc.Node)],e.prototype,"cachChoi",void 0),r([E(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([E(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([E(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([E(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([E(cc.Button)],e.prototype,"btnStartAuto",void 0),r([A],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/MakeDelay":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./AssetNeko":"AssetNeko","./AudioNeko":"AudioNeko","./EffectNeko":"EffectNeko","./InfoBarControllerNeko":"InfoBarControllerNeko","./ItemSlotNeko":"ItemSlotNeko","./ItemSlotNekoNgang":"ItemSlotNekoNgang","./LichSuNeko":"LichSuNeko","./MutilControlNeko":"MutilControlNeko","./SpinNormalNeko":"SpinNormalNeko"}],SpinNormalNeko:[function(t,e,o){"use strict";cc._RF.push(e,"b668c7It9NP8rK/57B/PrDE","SpinNormalNeko");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),c=t("../../../Scritps/Windown"),a=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.currentMutilFs=1,this.itemNekoNang=null,this.listColum=c.Windown.Neko.listColum,this.itemNekoNang=c.Windown.Neko.itemSlotNekoNgang,this.effect=c.Windown.Neko.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return n(t,void 0,void 0,function(){var t,o;return i(this,function(n){switch(n.label){case 0:n.trys.push([0,7,,8]),this.removeAllMutilAdded(),this.itemNekoNang.runSpin(),t=0,n.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,c.Windown.Neko.getMakeDelay(.025).prosime]):[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this.isMaxSpeed?[4,c.Windown.Neko.getMakeDelay(.1).prosime]:[3,6];case 5:n.sent(),n.label=6;case 6:return c.Windown.Neko.audio.playEffect(c.Windown.Neko.audio.spinActiveLoop,.5,!0),e(null),[3,8];case 7:return o=n.sent(),s.Util.ThrowErrProsime(o),[3,8];case 8:return[2]}})})})},t.prototype.onEnd=function(){return n(this,void 0,void 0,function(){var t,e,o,n,r,a,l,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,13,,14]),t=c.Windown.Neko.listResultConvert,e=c.Windown.Neko.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),o=0,n=[],this.itemNekoNang.stopSpin(!1,t[0].listSFSObjNgang),this.isMaxSpeed?[3,2]:[4,c.Windown.Neko.getMakeDelay(.3).prosime];case 1:i.sent(),i.label=2;case 2:c.Windown.Neko.audio.stopEffect(c.Windown.Neko.audio.spinActiveLoop),r=0,a=this.listColum,i.label=3;case 3:return r<a.length?(l=a[r],this.isMaxSpeed?[3,5]:[4,l.stopSpin(e[o],t[0].listSFSObj[o])]):[3,8];case 4:return i.sent(),[3,6];case 5:n.push(l.stopSpin(e[o],t[0].listSFSObj[o])),i.label=6;case 6:o++,i.label=7;case 7:return r++,[3,3];case 8:return this.isMaxSpeed?[4,Promise.all(n)]:[3,11];case 9:return i.sent(),[4,c.Windown.Neko.getMakeDelay(.25).prosime];case 10:i.sent(),i.label=11;case 11:return[4,c.Windown.Neko.getMakeDelay(.5).prosime];case 12:return i.sent(),this.handleStopAllColum(),[3,14];case 13:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,14];case 14:return[2]}})})},t.prototype.handleErrSpin=function(){return n(this,void 0,void 0,function(){var t,e,o,n;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),c.Windown.Neko.audio.stopEffect(c.Windown.Neko.audio.spinActiveLoop),this.itemNekoNang.stopSpin(!1,this.itemNekoNang.result),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(o=e[t],this.isMaxSpeed?[3,3]:[4,o.stopSpin(!1,o.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:o.stopSpin(!1,o.result),i.label=4;case 4:return t++,[3,1];case 5:return c.Windown.Neko.resetForNewGame(),[3,7];case 6:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})},t.prototype.handleStopAllColum=function(){return n(this,void 0,void 0,function(){var t,e,o,n,a;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,14,,15]),c.Windown.Neko.stateReel=r.default.STOP,c.Windown.Neko.setStateEffBtnSpin(),t=c.Windown.Neko.listResultConvert,this.itemNekoNang.getListSymbolResult().forEach(function(t){return t.removeAddScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater()})}),this.activeAllSymbol(),e=0,o=t.length,i.label=1;case 1:return e<o?(n=t[e],this.curentCountScater=n.countScater,n.listItemWin?[4,this.checkAndShowLineAn(n.listItemWin,n.agWin)]:[3,8]):[3,9];case 2:return i.sent(),[4,this.checkAndShowMutilMeo()];case 3:return i.sent(),[4,this.caculateMutilMoney()];case 4:return i.sent(),[4,c.Windown.Neko.infoBar.showTakeMoneyTurn(n.agWin*n.mutil)];case 5:return i.sent(),this.checkAndRemoveSymbol(n.listItemWin),n.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,8];case 6:return i.sent(),[4,this.moveAllSymbol()];case 7:i.sent(),i.label=8;case 8:return e++,[3,1];case 9:return[4,this.showMoneyTotalRevice()];case 10:return i.sent(),[4,this.checkAndShowEffect()];case 11:return i.sent(),this.freeSpinLeft>0&&!c.Windown.Neko.dataFinish.getBool("Scarter4")?[4,this.checkAndShowMutilMeo(!0)]:[3,13];case 12:i.sent(),i.label=13;case 13:return this.resetForNextNextSpin(),[3,15];case 14:return a=i.sent(),s.Util.ThrowErrProsime(a),[3,15];case 15:return[2]}})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){c.Windown.Neko.resetLbTotalLine(),c.Windown.Neko.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),t.itemNekoNang.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){for(var e=t.lsIdItem,o=t.lsstack,n=0,i=e.length;n<i;n++){this.itemNekoNang.checkAndRemoveItem(e[n],o[n]);for(var r=0;r<o[n]+1;r++)this.listColum[r].checkAndRemoveItem(e[n],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(o){return n(e,void 0,void 0,function(){var e,n,r;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),(e=[]).push(this.itemNekoNang.addNewListSymbol(t.listSFSObjNgang)),this.listColum)e.push(this.listColum[n].addNewListSymbol(t.listSFSObj[n]));return[4,Promise.all(e)];case 1:return i.sent(),o(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return n(t,void 0,void 0,function(){var t,o,n,r;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=0,(o=[]).push(this.itemNekoNang.moveAllSymbol(t)),this.itemNekoNang.checkIsNorSap()&&t++,this.listColum)o.push(this.listColum[n].moveAllSymbol(t)),this.listColum[n].checkIsNorSap()&&t++;return[4,Promise.all(o)];case 1:return i.sent(),e(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.checkAndShowMutilMeo=function(t){var e=this;return new Promise(function(o){return n(e,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c.Windown.Neko.muitlCtr.checkTakeMultil(t)];case 1:return n.sent(),o(null),[3,3];case 2:return e=n.sent(),s.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})},t.prototype.caculateMutilMoney=function(){var t=this;return new Promise(function(e){return n(t,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,c.Windown.Neko.muitlCtr.endTakeMultil()];case 1:return o.sent(),e(null),[3,3];case 2:return t=o.sent(),s.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),this.isMaxSpeed||(this.listColum.forEach(function(e){e.offAllSymbol(t)}),this.itemNekoNang.offAllSymbol(t)),c.Windown.Neko.activeMask(!0)},t.prototype.activeAllSymbol=function(){this.isMaxSpeed||(this.listColum.forEach(function(t){t.activeAllSymbol()}),this.itemNekoNang.activeAllSymbol()),c.Windown.Neko.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var o=this;return this.offAllSymbol(),new Promise(function(r){return n(o,void 0,void 0,function(){var o,n,a,l,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),o=t.lsIdItem,n=t.lsstack,a=t.lsAgWin,c.Windown.Neko.audio.playEffectNoStop(c.Windown.Neko.audio.prizePayoutHighlightStart),l=0,u=o.length;l<u;l++){for(this.itemNekoNang.checkItemWin(o[l],n[l]),p=0;p<n[l]+1;p++)this.listColum[p].checkItemWin(o[l],null);a[l]}return[4,c.Windown.Neko.getMakeDelay(.5).prosime];case 1:return i.sent(),[4,c.Windown.Neko.infoBar.showTakeMoney(e)];case 2:return i.sent(),r(null),[3,4];case 3:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,4];case 4:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),this.itemNekoNang.getListSymbolResult().forEach(function(t){return t.removeAddScater(!0)}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater(!0)})}),c.Windown.Neko.resetForNewGame(),this.freeSpinLeft>0?c.Windown.Neko.scheduleOnce(function(){c.Windown.Neko.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.Neko.onClickBtnSpin()},.5):this.countAutoSpin>0?c.Windown.Neko.scheduleOnce(function(){t.countAutoSpin--,c.Windown.Neko.setCountAuto(t.countAutoSpin),c.Windown.Neko.onClickBtnSpin()},.5):c.Windown.Neko.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return n(t,void 0,void 0,function(){var t,o,n;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=c.Windown.Neko.dataFinish.getBool("Scarter4"),o=c.Windown.Neko.dataFinish.get("numFreeSpin"),this.freeSpinLeft=o,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,c.Windown.Neko.effect.showTakeFreeSpin(o)]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,this.currentMutilFs=1,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return n(t,void 0,void 0,function(){var t,o;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=c.Windown.Neko.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),c.Windown.Neko.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),t<1?(e(null),[2]):[4,c.Windown.Neko.infoBar.showTotalMoney(t)];case 1:return n.sent(),c.Windown.Neko.showMoneyAllWin(t),cc.log("chay vao end show total money"),e(null),[3,3];case 2:return o=n.sent(),s.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t}();o.default=a,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],SymbolNeko:[function(t,e,o){"use strict";cc._RF.push(e,"0deabLHIONANZHTW2mzAwP2","SymbolNeko");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.TYPE_ITEM=void 0;var a,l=t("../../../Scritps/DefineTs/BUNDLE"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=t("./ItemMuitlNeko"),f=t("./ItemSlotNeko"),y=cc._decorator,m=y.ccclass,S=y.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(a=o.TYPE_ITEM||(o.TYPE_ITEM={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.parentMutil=null,e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(122,105),e.size=new cc.Size(127,103),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=a.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=103):(this.size.height=120,this.node.angle=90)},e.prototype.setResult=function(t){null!=t&&(this.objSFS=t,this.result=t.getInt("idItem")+1,this.typeItem=t.getInt("typeItem"),this.sizeItem=t.getInt("size"),this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.setNewStateMutil(),this.isShuff=!1,this.isShowEffectSpawn=!1)},e.prototype.setNewStateMutil=function(){11!=this.result||this.isShowEffectSpawn||null!=this.nodeMutil?this.parentMutil.active=!1:this.parentMutil.active=!0,this.parentMutil.active&&(this.parentMutil.y=-this.node.height/2+this.parentMutil.height/2+18)},e.prototype.setSize=function(){this.spriteBkg.node.height=this.sizeBkg.height*this.sizeItem,this.spriteKhung.node.height=this.sizeBkg.height*this.sizeItem,this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteKhung.spriteFrame=this.getSpKhung(t),t?(this.sprite.node.scale=1.4,this.spriteKhung.node.scale=1.1,this.spriteBkg.node.scale=1.1):(this.sprite.node.scale=.7,this.spriteBkg.node.scale=1,this.spriteKhung.node.scale=1),12==this.result||13==this.result?this.skeletonItem.node.scale=.7:this.skeletonItem.node.scale=.77,12==this.result&&1==this.sizeItem?this.skeletonItem.node.y=-7.4:this.skeletonItem.node.y=0},e.prototype.getSpKhung=function(t){return this.sizeItem==a.NONE?null:t?this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem)},e.prototype.getSpBkg=function(t){return t?this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpBkgShuff=function(){return this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpItem=function(t){var e=this.sizeItem;return this.result<12&&(e=cc.misc.clampf(this.sizeItem,1,2)),t?this.getAtlas().getSpriteFrame("item_"+this.result+"_"+e+"_blur"):this.getAtlas().getSpriteFrame("item_"+this.result+"_"+e)},e.prototype.getAtlas=function(){return this.result<12?h.Windown.Neko.asset.atlasSymbol:h.Windown.Neko.asset.atlasSpecial},e.prototype.getSpin=function(){var t=this.convertNameSpineById()+this.convertNameSizeSpine();return 13==this.result&&cc.log("str: "+t),h.Windown.loadRes(l.BUNDLE.Neko,"Spine/"+t,sp.SkeletonData)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpineById=function(){switch(this.result){case 1:return"l_10";case 2:return"l_j";case 3:return"l_q";case 4:return"l_k";case 5:return"l_a";case 6:return"h_sushi";case 7:return"h_f_sushi";case 8:return"h_fan";case 9:return"h_lantern";case 10:return"h_drum";case 11:return"h_neko";case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 11==this.result?"_cd_atlas_symbols":12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 11==this.result?"_cd_atlas_symbols":12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(t?(this.nodeScater&&h.Windown.Neko.asset.putAddScater(this.nodeScater),this.nodeScater=null):this.nodeScater.active=!1)},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater.active=!0,this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.delayTime(1))))},e.prototype.effectNearWinScater=function(){13==this.result&&this.nodeScater&&(this.nodeScater.active=!0,this.nodeScater.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.heartbeat)}),cc.repeat(cc.sequence(cc.scaleTo(.25,1.2),cc.scaleTo(.15,1)),2),cc.delayTime(.5)),3)))},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.children.forEach(function(e){e.stopActionByTag(999),cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.runSpin=function(){var t=cc.repeatForever(cc.moveBy(1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),o=this.itemColum.getListSymbol()[e-1],n=null==o?void 0:o.node.y;t=o?n-this.node.height/2-o.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=null);var n=this.getIndexOf(),i=this.itemColum.getListSymbol()[n+1],r=i.node.y,s=null;t==f.TYPE_MOVE.NORMAL&&(s=r+this.node.height/2+i.node.height/2,this.node.y=s)},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t,e,o,n,i=this;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,5,,6]),6==this.itemColum.sizeSymbol?h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.takeSymTop):h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.prizePayoutHighlight),(t=h.Windown.Neko.asset.getWinSymbol(this.sizeItem)).parent=h.Windown.Neko.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),e=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getSpin()];case 2:return e=r.sent(),[3,4];case 3:return o=r.sent(),cc.error(o),[3,4];case 4:return this.removeEfWin(),t&&(t.getComponent(cc.Animation).play("TakeItem"+this.sizeItem),this.activeItem(0),this.efWin=t,this.sprite.node.opacity=0,e&&this.skeletonItem.node&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"win",!1),this.skeletonItem.setCompleteListener(function(){i.skeletonItem.setCompleteListener(null),i.skeletonItem.node.active=!1,i.sprite.node.opacity=255}))),[3,6];case 5:return n=r.sent(),p.Util.ThrowErrProsime(n),[3,6];case 6:return[2]}})})},e.prototype.removeEfWin=function(){if(this.efWin){var t=this.efWin.getComponent(cc.Animation);t.targetOff(t),t.stop(),h.Windown.Neko.asset.putWinSymbol(this.efWin,this.sizeItem)}this.efWin=null},e.prototype.removeItem=function(){var t=this;if(this.node.setPosition(h.Windown.convertNodeInOtherNode(this.node,this.itemColum.node)),this.node.parent=this.itemColum.node,this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.Windown.Neko.asset.putSymbol(t.node)}))),this.efWin){var e=this.efWin.getComponent(cc.Animation);e.play("EndTakeItem"+this.sizeItem),e.once(cc.Animation.EventType.FINISHED,function(){t.removeEfWin()})}},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(o){return s(e,void 0,void 0,function(){var e,n,i,r,s,a,l,u,d,f,y;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,10,,11]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),this.removeEfWin(),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteStart),11!=t?[3,1]:(this.skeletonItem.node.active=!1,this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),e=this.sprite.node.scale,this.sprite.node.scale=0,this.sprite.node.stopAllActions(),this.sprite.node.runAction(cc.sequence(cc.scaleTo(.8,e).easing(cc.easeElasticOut(.3)),cc.callFunc(o))),(n=h.Windown.Neko.asset.getShuffToWild()).parent=h.Windown.Neko.parentEffect,n.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),i=n.getComponent(cc.Animation),2==this.sizeItem?i.play("ShuffToWild2"):i.play("ShuffToWild4"),i.once(cc.Animation.EventType.FINISHED,function(){h.Windown.Neko.asset.putShuffToWild(n)}),[3,9]);case 1:if(h.Windown.Neko.stateSpin.isMaxSpeed)return[3,6];this.spriteBkg.node.active=!1,r=h.Windown.Neko.asset.getBkgShuffSymbol(),this.node.addChild(r,cc.macro.MIN_ZINDEX),r.setContentSize(this.spriteBkg.node.getContentSize()),r.getComponent(cc.Animation).play("Shuff"+this.sizeItem),u=0,c.label=2;case 2:if(!(u<10))return[3,5];for(s=h.Windown.RandomNumber(1,12);this.result==s;)s=h.Windown.RandomNumber(1,12);return h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteRolling),this.result=s,this.sprite.spriteFrame=this.getSpItem(!1),[4,h.Windown.Neko.getMakeDelay(.09).prosime];case 3:c.sent(),c.label=4;case 4:return u++,[3,2];case 5:h.Windown.Neko.asset.putBkgShuffSymbol(r),c.label=6;case 6:for(this.spriteBkg.node.active=!0,h.Windown.Neko.audio.stopEffect(h.Windown.Neko.audio.symRouletteRolling),this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteEnd),this.sprite.node.stopAllActions(),a=this.sprite.node.scale,this.setNewStateMutil(),(l=h.Windown.Neko.asset.getShuffToNormal()).parent=h.Windown.Neko.parentEffect,l.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),l.height=this.sizeBkg.height*this.sizeItem,u=1,d=l.children.length;u<d;u++)l.children[u].active=!1;return l.children[this.sizeItem-1].active=!0,(f=l.children[0]).stopAllActions(),f.scale=0,f.runAction(cc.sequence(cc.scaleTo(.4,1.7*(this.sizeItem-1)),cc.callFunc(function(){h.Windown.Neko.asset.putShuffToNormal(l)}))),this.sprite.node.runAction(cc.sequence(cc.scaleTo(.1,a+.2),cc.scaleTo(.1,a))),h.Windown.Neko.stateSpin.isMaxSpeed?[4,h.Windown.Neko.getMakeDelay(.4)]:[3,8];case 7:c.sent(),c.label=8;case 8:o(null),c.label=9;case 9:return[3,11];case 10:return y=c.sent(),p.Util.ThrowErrProsime(y),[3,11];case 11:return[2]}})})})},e.prototype.removeMutilWhenSpin=function(){this.nodeMutil&&(h.Windown.Neko.asset.putSymbolMutil(this.nodeMutil),this.parentMutil.active=!0),this.nodeMutil=null,this.removeEfWin()},e.prototype.effectSpawnSymbol=function(){return s(this,void 0,void 0,function(){var t,e,o,n,i,r,s,a,l=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,8,,9]),cc.isValid(this.node,!0)?this.isShowEffectSpawn||!this.checkIsInView()?[2]:13!=this.result?[3,1]:(h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symScatter),this.isShowEffectSpawn=!0,this.nodeScater?[2]:((t=h.Windown.Neko.asset.getAddScater()).parent=h.Windown.Neko.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater=t,(e=t.getComponent(cc.Animation)).play("AddScater"),e.playAdditive("AddScaterLoop"),this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.3,1.2).easing(cc.easeSineOut()),cc.scaleTo(.3,1).easing(cc.easeSineIn()))),(o=cc.find("Alats8-fs_vfx_c_add",t)).stopAllActions(),o.runAction(cc.repeatForever(cc.rotateBy(1,30))),(n=cc.find("Alats8-mh_vfx_01_add",t)).stopAllActions(),n.scale=1,n.opacity=255,n.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(.5,1.6).easing(cc.easeQuarticActionOut()),cc.fadeTo(.5,50).easing(cc.easeQuarticActionOut())),cc.callFunc(function(){n.scale=1,n.opacity=255})))),[3,7])):[2];case 1:if(12!=this.result)return[3,6];this.isShowEffectSpawn=!0,i=null,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.getSpin()];case 3:return i=c.sent(),[3,5];case 4:return r=c.sent(),cc.error(r),[3,5];case 5:return i&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=i,this.skeletonItem.setAnimation(0,"spawn",!1),this.skeletonItem.setCompleteListener(function(){l.skeletonItem.setCompleteListener(null),l.skeletonItem.node.active=!1})),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symWild),[3,7];case 6:11==this.result&&(this.isShowEffectSpawn=!0,null==this.nodeMutil&&(s=h.Windown.Neko.muitlCtr.node,this.nodeMutil=h.Windown.Neko.asset.getSymbolMutil(),this.nodeMutil.parent=s,this.nodeMutil.setPosition(h.Windown.convertNodeInOtherNode(this.parentMutil,s))),this.parentMutil.active=!1,this.nodeMutil._components&&this.nodeMutil.getComponent(d.default).onOffEffectMutil(!0)),c.label=7;case 7:return[3,9];case 8:return a=c.sent(),p.Util.ThrowErrProsime(a),[3,9];case 9:return[2]}})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.scale=.67,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=-this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),o=this.itemColum.getListSymbol(),n=o[o.length-1];n.node.zIndex=0,n.node.setSiblingIndex(0),n.node.parent.sortAllChildren(),n.setResult(e),this.itemColum.emitNewList(),n.moveWhenListChange(f.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([S(cc.Sprite)],e.prototype,"sprite",void 0),r([S(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([S(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([S(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([S(cc.Node)],e.prototype,"parentMutil",void 0),r([m],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./ItemMuitlNeko":"ItemMuitlNeko","./ItemSlotNeko":"ItemSlotNeko"}]},{},["AssetNeko","AudioNeko","DetailHistoryNeko","EffectNeko","InfoBarControllerNeko","ItemDetalNeko","ItemLichSuNeko","ItemMuitlNeko","ItemResultDetailNeko","ItemSlotNeko","ItemSlotNekoNgang","LichSuNeko","MutilControlNeko","NekoView","SpinNormalNeko","SymbolNeko"]);